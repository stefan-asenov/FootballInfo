using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using FootballInfoSystem.Data;

namespace FootballInfoSystem.View
{
    public partial class HomeView : Form
    {
        public HomeView()
        {
            InitializeComponent();
            //TODO get authenticated user id;
            int userID = 1;
            favoriteTeamCombo.ValueMember = "id";
            favoriteTeamCombo.DisplayMember = "name";
            favoriteTeamCombo.DataSource = DBUtils.GetFavoriteTeams(userID);
        }

        private void addFavoriteTeamImage_Click(object sender, EventArgs e) {
            AddFavouriteTeamView favTeamView = new AddFavouriteTeamView();
            favTeamView.ShowDialog();
        }

        private void exitToolStripMenuItem_Click(object sender, EventArgs e) {
            Program.ExitApplication(1);
<<<<<<< Updated upstream
        }        
=======
        }

        private void UpdateStandingTable(int leagueId)
        {
            standingGridView.DataSource = DBUtils.GetTeamsInLeague(leagueId);
            standingGridView.Columns["Id"].Visible = false;
            standingGridView.Columns["stadium"].Visible = false;
            standingGridView.Columns["manager"].Visible = false;
            standingGridView.Columns["founded"].Visible = false;
            standingGridView.Columns["League_id"].Visible = false;
        }

        private void favoriteTeamChanged(object sender, EventArgs e)
        {
            if (favoriteTeamCombo.SelectedItem is DataRowView)
            {
                int leagueId = int.Parse(((DataRowView)favoriteTeamCombo.SelectedItem).Row["League_id"].ToString());
                UpdateStandingTable(leagueId);
            }
        }
        
>>>>>>> Stashed changes
    }
}
